# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ–Ω–æ—Å—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ VPS

## –ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è
- VPS —Å–µ—Ä–≤–µ—Ä (Ubuntu 22.04) - –æ—Ç 2GB RAM
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP)
- 1-2 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏

---

## –®–∞–≥ 1: –í—ã–±–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

**Timeweb (–†–æ—Å—Å–∏—è)**
- –°–∞–π—Ç: timeweb.com
- –¢–∞—Ä–∏—Ñ: "Cloud VPS 2" - 299‚ÇΩ/–º–µ—Å
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: 2GB RAM, 1 CPU, 20GB SSD
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: –Ω—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω + email

**Selectel (–†–æ—Å—Å–∏—è)**
- –°–∞–π—Ç: selectel.ru
- –¢–∞—Ä–∏—Ñ: "–û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä S" - –æ—Ç 200‚ÇΩ/–º–µ—Å
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: 2GB RAM, 1 vCPU, 10GB SSD

**Digital Ocean (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π)**
- –°–∞–π—Ç: digitalocean.com
- –¢–∞—Ä–∏—Ñ: "Basic Droplet" - $6/–º–µ—Å (~600‚ÇΩ)
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: 1GB RAM, 1 CPU, 25GB SSD
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–∞—Ä—Ç–∞, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (VPS/Droplet/Cloud)
3. –í—ã–±–µ—Ä–∏—Ç–µ –û–°: **Ubuntu 22.04 LTS**
4. –†–µ–≥–∏–æ–Ω: –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
5. SSH –∫–ª—é—á –∏–ª–∏ –ø–∞—Ä–æ–ª—å root: —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –Ω–∞–¥–µ–∂–Ω–æ–µ –º–µ—Å—Ç–æ
6. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ (1-3 –º–∏–Ω—É—Ç—ã)
7. –ü–æ–ª—É—á–∏—Ç–µ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞

---

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –î–ª—è Windows:
1. –°–∫–∞—á–∞–π—Ç–µ PuTTY: https://putty.org
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PuTTY
3. Host Name: –≤–≤–µ–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
4. Port: 22
5. Connection type: SSH
6. –ù–∞–∂–º–∏—Ç–µ "Open"
7. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ `root` —Å –ø–∞—Ä–æ–ª–µ–º –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–ª—è Mac/Linux:
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```

---

## –®–∞–≥ 3: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
apt install -y curl git nginx postgresql redis-server python3-pip python3-venv

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js (–¥–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Bun (–±—ã—Å—Ç—Ä—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤)
curl -fsSL https://bun.sh/install | bash
source ~/.bashrc

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
node -v
bun -v
python3 --version
psql --version
```

---

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –í–æ–π—Ç–∏ –≤ PostgreSQL
sudo -u postgres psql

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ PostgreSQL –∫–æ–Ω—Å–æ–ª–∏:
CREATE DATABASE wiki_db;
CREATE USER wiki_user WITH PASSWORD '–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å_123';
GRANT ALL PRIVILEGES ON DATABASE wiki_db TO wiki_user;
\q

# –†–∞–∑—Ä–µ—à–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
nano /etc/postgresql/14/main/pg_hba.conf
```

–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
local   all             all                                     peer
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
```
local   all             all                                     md5
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+O, Enter, Ctrl+X) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL:
```bash
systemctl restart postgresql
```

---

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MinIO (S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

```bash
# –°–∫–∞—á–∞—Ç—å MinIO
wget https://dl.min.io/server/minio/release/linux-amd64/minio
chmod +x minio
mv minio /usr/local/bin/

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ñ–∞–π–ª–æ–≤
mkdir -p /mnt/data/minio

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è MinIO
useradd -r minio-user -s /sbin/nologin
chown -R minio-user:minio-user /mnt/data/minio

# –°–æ–∑–¥–∞—Ç—å systemd —Å–µ—Ä–≤–∏—Å
nano /etc/systemd/system/minio.service
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```ini
[Unit]
Description=MinIO
After=network.target

[Service]
User=minio-user
Group=minio-user
Environment="MINIO_ROOT_USER=admin"
Environment="MINIO_ROOT_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_minio_123"
ExecStart=/usr/local/bin/minio server /mnt/data/minio --console-address ":9001"
Restart=always

[Install]
WantedBy=multi-user.target
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
systemctl daemon-reload
systemctl enable minio
systemctl start minio

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status minio
```

MinIO –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:
- API: http://–í–ê–®_IP:9000
- Console: http://–í–ê–®_IP:9001

---

## –®–∞–≥ 6: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p /var/www/wiki
cd /var/www/wiki

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub
# (–°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –≤ poehali.dev!)
git clone https://github.com/–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git .

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
bun install

# –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
bun run build
```

---

## –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend —Ñ—É–Ω–∫—Ü–∏–π

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è Python
cd /var/www/wiki
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö backend —Ñ—É–Ω–∫—Ü–∏–π
pip install fastapi uvicorn psycopg2-binary pillow boto3 pydantic

# –°–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π API —Ñ–∞–π–ª
nano /var/www/wiki/backend_server.py
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:
```python
from fastapi import FastAPI, Request
from fastapi.middleware.cors import CORSMiddleware
import os
import sys

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º backend
sys.path.insert(0, '/var/www/wiki/backend')

app = FastAPI()

# CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
from admin_activity.index import handler as admin_activity_handler
from image_processor.index import handler as image_processor_handler
from reprocess_images.index import handler as reprocess_images_handler
# ... –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

@app.post("/api/admin-activity")
async def admin_activity(request: Request):
    event = {
        "httpMethod": request.method,
        "headers": dict(request.headers),
        "body": await request.body(),
        "queryStringParameters": dict(request.query_params)
    }
    result = admin_activity_handler(event, {})
    return result

@app.post("/api/image-processor")
async def image_processor(request: Request):
    event = {
        "httpMethod": request.method,
        "headers": dict(request.headers),
        "body": await request.body(),
        "queryStringParameters": dict(request.query_params)
    }
    result = image_processor_handler(event, {})
    return result

# ... –¥–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å:
```bash
nano /etc/systemd/system/wiki-backend.service
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```ini
[Unit]
Description=Wiki Backend API
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/wiki
Environment="DATABASE_URL=postgresql://wiki_user:–≤–∞—à_–ø–∞—Ä–æ–ª—å_123@localhost/wiki_db"
Environment="AWS_ACCESS_KEY_ID=admin"
Environment="AWS_SECRET_ACCESS_KEY=–≤–∞—à_–ø–∞—Ä–æ–ª—å_minio_123"
ExecStart=/var/www/wiki/venv/bin/python /var/www/wiki/backend_server.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:
```bash
systemctl daemon-reload
systemctl enable wiki-backend
systemctl start wiki-backend
systemctl status wiki-backend
```

---

## –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)

```bash
nano /etc/nginx/sites-available/wiki
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```nginx
server {
    listen 80;
    server_name –í–ê–®_–î–û–ú–ï–ù.ru;  # –∏–ª–∏ IP –∞–¥—Ä–µ—Å

    # Frontend
    location / {
        root /var/www/wiki/dist;
        try_files $uri $uri/ /index.html;
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:8000/api/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # MinIO S3
    location /s3/ {
        proxy_pass http://localhost:9000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
ln -s /etc/nginx/sites-available/wiki /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

---

## –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
certbot --nginx -d –≤–∞—à_–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à_–¥–æ–º–µ–Ω.ru

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
systemctl enable certbot.timer
```

---

## –®–∞–≥ 10: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—É—â–µ–π –±–∞–∑–µ, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –∏–∑ poehali.dev –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ:

```bash
# –ù–∞ –≤–∞—à–µ–º VPS
psql -U wiki_user -d wiki_db < dump.sql
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
–°–∫–∞—á–∞–π—Ç–µ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ CDN poehali.dev –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ MinIO:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MinIO Client
wget https://dl.min.io/client/mc/release/linux-amd64/mc
chmod +x mc
mv mc /usr/local/bin/

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
mc alias set myminio http://localhost:9000 admin –≤–∞—à_–ø–∞—Ä–æ–ª—å_minio_123

# –°–æ–∑–¥–∞—Ç—å bucket
mc mb myminio/files

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è)
mc cp --recursive ./local_images/ myminio/files/
```

---

## –®–∞–≥ 11: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –≤ –∫–æ–¥–µ

–ò–∑–º–µ–Ω–∏—Ç–µ `src/config/api.ts`:
```typescript
export const API_URLS = {
  AUTH: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/auth",
  ITEMS: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/items",
  GUIDES: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/guides",
  DATA_MANAGER: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/data-manager",
  ADMIN_ACTIVITY: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/admin-activity",
  IMAGE_PROCESSOR: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/image-processor",
  REPROCESS_IMAGES: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/reprocess-images",
};
```

–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```bash
cd /var/www/wiki
bun run build
systemctl restart nginx
```

---

## –®–∞–≥ 12: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://–≤–∞—à_–¥–æ–º–µ–Ω.ru`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–æ–¥—è–Ω—ã–µ –∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ wiki

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (300-500‚ÇΩ/–º–µ—Å):
- VPS 2GB RAM: 299-500‚ÇΩ/–º–µ—Å
- –î–æ–º–µ–Ω .ru: ~200‚ÇΩ/–≥–æ–¥ (~17‚ÇΩ/–º–µ—Å)
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt)
- **–ò—Ç–æ–≥–æ: ~320-520‚ÇΩ/–º–µ—Å**

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (700-1500‚ÇΩ/–º–µ—Å):
- VPS 4GB RAM: 699-1200‚ÇΩ/–º–µ—Å
- –î–æ–º–µ–Ω .com/.ru: 500‚ÇΩ/–≥–æ–¥
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏: 100-200‚ÇΩ/–º–µ—Å
- CDN (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): 100‚ÇΩ/–º–µ—Å
- **–ò—Ç–æ–≥–æ: ~800-1500‚ÇΩ/–º–µ—Å**

### –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
- **poehali.dev**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **Vercel + Supabase**: $0-20/–º–µ—Å (–Ω–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å Python –Ω–∞ JS)
- **VPS**: –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ 300-500‚ÇΩ/–º–µ—Å

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ backend
journalctl -u wiki-backend -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
systemctl restart wiki-backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx
systemctl restart nginx

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub
cd /var/www/wiki
git pull
bun run build
systemctl restart wiki-backend nginx

# Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump -U wiki_user wiki_db > backup_$(date +%Y%m%d).sql

# Backup —Ñ–∞–π–ª–æ–≤ MinIO
mc mirror myminio/files /backup/minio-files/
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ò–∑–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall: `ufw allow 80,443/tcp && ufw enable`
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É: `apt update && apt upgrade`

2. **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ë–î (cron)
   - –î–µ–ª–∞–π—Ç–µ snapshot VPS —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
   - –•—Ä–∞–Ω–∏—Ç–µ –∫–æ–ø–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ—Ç–¥–µ–ª—å–Ω–æ

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ (UptimeRobot - –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏—Å–∫–∞: `df -h`
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ —Ä–µ–≥—É–ª—è—Ä–Ω–æ

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

1. **Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   ```bash
   journalctl -u wiki-backend -n 50
   ```

2. **Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É:**
   ```bash
   nginx -t
   tail -f /var/log/nginx/error.log
   ```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:**
   ```bash
   sudo -u postgres psql -c "\l"
   systemctl status postgresql
   ```

4. **MinIO –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   systemctl status minio
   journalctl -u minio -n 50
   ```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nginx: https://nginx.org/ru/docs/
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PostgreSQL: https://www.postgresql.org/docs/
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MinIO: https://min.io/docs/
- –°–æ–æ–±—â–µ—Å—Ç–≤–æ poehali.dev: https://t.me/+QgiLIa1gFRY4Y2Iy

–£–¥–∞—á–∏ —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ
