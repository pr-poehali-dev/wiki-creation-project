# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ–Ω–æ—Å—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Timeweb VPS 2

## –ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è
- ‚úÖ Timeweb VPS 2 (299‚ÇΩ/–º–µ—Å) - –≤—ã –≤—ã–±—Ä–∞–ª–∏
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –æ—Ç Timeweb)
- 1-2 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** 299‚ÇΩ/–º–µ—Å –∑–∞ VPS + 200‚ÇΩ/–≥–æ–¥ –∑–∞ –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) = ~320‚ÇΩ/–º–µ—Å

---

## üìã –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Timeweb VPS 2

- **CPU:** 1 —è–¥—Ä–æ (2.4 GHz)
- **RAM:** 2 GB
- **–î–∏—Å–∫:** 20 GB SSD
- **–¢—Ä–∞—Ñ–∏–∫:** –ë–µ–∑–ª–∏–º–∏—Ç
- **–û–°:** Ubuntu 22.04 LTS (–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- **–ü–∞–Ω–µ–ª—å:** –£–¥–æ–±–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Timeweb
- **–ë—ç–∫–∞–ø—ã:** –í—Ö–æ–¥—è—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- **IP –∞–¥—Ä–µ—Å:** 1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP

---

## –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Timeweb

### 1.1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **https://timeweb.com**
2. –ù–∞–∂–º–∏—Ç–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - Email
   - –¢–µ–ª–µ—Ñ–æ–Ω (–¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
   - –ü–∞—Ä–æ–ª—å
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω
5. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–∏–Ω–∏–º—É–º –Ω–∞ 299‚ÇΩ (–º–æ–∂–Ω–æ –∫–∞—Ä—Ç–æ–π, –°–ë–ü, –Æmoney)

### 1.2. –°–æ–∑–¥–∞–Ω–∏–µ Cloud VPS

1. –í–æ–π–¥–∏—Ç–µ –≤ **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Timeweb**
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Cloud —Å–µ—Ä–≤–µ—Ä—ã"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   - **–¢–∞—Ä–∏—Ñ:** VPS 2 (2 GB RAM, 1 CPU, 20 GB SSD)
   - **–û–°:** Ubuntu 22.04 LTS (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞)
   - **–î–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä:** –ú–æ—Å–∫–≤–∞ (–ª—É—á—à–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–ª—è –†–æ—Å—Å–∏–∏)
   - **–ü–µ—Ä–∏–æ–¥:** –ü–æ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞:**
   - –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å root"
   - –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `MyServer2024!Pass`)
   - –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ SSH-–∫–ª—é—á (–µ—Å–ª–∏ —É–º–µ–µ—Ç–µ)
5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã: **–≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ!)
   - Firewall: –ø–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ, –Ω–∞—Å—Ç—Ä–æ–∏–º –ø–æ–∑–∂–µ
6. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–∫–∞–∑–∞—Ç—å —Å–µ—Ä–≤–µ—Ä"**
7. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ (1-3 –º–∏–Ω—É—Ç—ã)

### 1.3. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- **IP –∞–¥—Ä–µ—Å:** –Ω–∞–ø—Ä–∏–º–µ—Ä, 185.104.114.123 (–∑–∞–ø–∏—à–∏—Ç–µ!)
- **–õ–æ–≥–∏–Ω:** root
- **–ü–∞—Ä–æ–ª—å:** —Ç–æ—Ç, —á—Ç–æ –≤—ã –ø—Ä–∏–¥—É–º–∞–ª–∏

**üí° –°–æ–≤–µ—Ç:** –°—Ä–∞–∑—É –∑–∞–ø–∏—à–∏—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π, –±–ª–æ–∫–Ω–æ—Ç).

---

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É Timeweb

### –î–ª—è Windows:

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)**
1. –í –ø–∞–Ω–µ–ª–∏ Timeweb –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí **"–ö–æ–Ω—Å–æ–ª—å"**
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–µ–±-—Ç–µ—Ä–º–∏–Ω–∞–ª –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
4. –í–æ–π–¥–∏—Ç–µ —Å –ª–æ–≥–∏–Ω–æ–º `root` –∏ –≤–∞—à–∏–º –ø–∞—Ä–æ–ª–µ–º

**–°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ PuTTY**
1. –°–∫–∞—á–∞–π—Ç–µ PuTTY: https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ PuTTY
3. –í –ø–æ–ª–µ **"Host Name"**: –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 185.104.114.123)
4. Port: **22**
5. Connection type: **SSH**
6. –ù–∞–∂–º–∏—Ç–µ **"Open"**
7. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ - –Ω–∞–∂–º–∏—Ç–µ **"Yes"**
8. –í–æ–π–¥–∏—Ç–µ:
   - login as: `root`
   - password: –≤–∞—à –ø–∞—Ä–æ–ª—å (–ø—Ä–∏ –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)

### –î–ª—è Mac/Linux:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–¢–µ—Ä–º–∏–Ω–∞–ª**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```
–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
ssh root@185.104.114.123
```
3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤–≤–µ–¥–∏—Ç–µ `yes`
4. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–ø—Ä–∏ –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è)

**‚úÖ –í—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å!** –¢–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤–∏–¥–∞: `root@server:~#`

---

## –®–∞–≥ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å—ë –∑–∞ –≤–∞—Å!

### 3.1. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª (–≤—Å—ë —Ü–µ–ª–∏–∫–æ–º):

```bash
cat > /root/setup.sh << 'EOF'
#!/bin/bash
set -e

echo "========================================="
echo "üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Wiki –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Timeweb VPS"
echo "========================================="

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
echo "üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã..."
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤..."
apt install -y curl git nginx postgresql postgresql-contrib python3-pip python3-venv build-essential ufw

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20..."
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Bun
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Bun..."
curl -fsSL https://bun.sh/install | bash
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MinIO
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MinIO (S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ)..."
wget -q https://dl.min.io/server/minio/release/linux-amd64/minio -O /usr/local/bin/minio
chmod +x /usr/local/bin/minio

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MinIO Client
wget -q https://dl.min.io/client/mc/release/linux-amd64/mc -O /usr/local/bin/mc
chmod +x /usr/local/bin/mc

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
echo "üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL..."
sudo -u postgres psql << PSQL
CREATE DATABASE wiki_db;
CREATE USER wiki_user WITH PASSWORD 'Wiki2024SecurePass!';
GRANT ALL PRIVILEGES ON DATABASE wiki_db TO wiki_user;
ALTER DATABASE wiki_db OWNER TO wiki_user;
\q
PSQL

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ pg_hba.conf –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
sed -i 's/local   all             all                                     peer/local   all             all                                     md5/' /etc/postgresql/14/main/pg_hba.conf
systemctl restart postgresql

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
echo "üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞..."
mkdir -p /var/www/wiki
mkdir -p /mnt/data/minio
useradd -r minio-user -s /sbin/nologin || true
chown -R minio-user:minio-user /mnt/data/minio

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MinIO —Å–µ—Ä–≤–∏—Å–∞
echo "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MinIO..."
cat > /etc/systemd/system/minio.service << MINIO
[Unit]
Description=MinIO
After=network.target

[Service]
User=minio-user
Group=minio-user
Environment="MINIO_ROOT_USER=admin"
Environment="MINIO_ROOT_PASSWORD=MinioSecure2024Pass!"
ExecStart=/usr/local/bin/minio server /mnt/data/minio --console-address ":9001" --address ":9000"
Restart=always

[Install]
WantedBy=multi-user.target
MINIO

systemctl daemon-reload
systemctl enable minio
systemctl start minio

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall
echo "üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall..."
ufw --force enable
ufw allow 22/tcp    # SSH
ufw allow 80/tcp    # HTTP
ufw allow 443/tcp   # HTTPS
ufw allow 9000/tcp  # MinIO API
ufw allow 9001/tcp  # MinIO Console
ufw reload

echo ""
echo "‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìù –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ:"
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
echo "üóÑÔ∏è PostgreSQL:"
echo "   Database: wiki_db"
echo "   User: wiki_user"
echo "   Password: Wiki2024SecurePass!"
echo "   DSN: postgresql://wiki_user:Wiki2024SecurePass!@localhost/wiki_db"
echo ""
echo "üíæ MinIO (S3):"
echo "   Console: http://–í–ê–®_IP:9001"
echo "   API: http://–í–ê–®_IP:9000"
echo "   User: admin"
echo "   Password: MinioSecure2024Pass!"
echo ""
echo "üî• Firewall: –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç—ã 22, 80, 443, 9000, 9001)"
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
echo ""
echo "üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ GitHub"
EOF

chmod +x /root/setup.sh
```

### 3.2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
bash /root/setup.sh
```

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5-10 –º–∏–Ω—É—Ç

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- Node.js –∏ Bun
- PostgreSQL —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- MinIO (S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
- Firewall (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

**üìù –í –∫–æ–Ω—Ü–µ —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç –≤—Å–µ –ø–∞—Ä–æ–ª–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö!**

---

## –®–∞–≥ 4: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ï—Å–ª–∏ —É –≤–∞—Å –£–ñ–ï –µ—Å—Ç—å –¥–æ–º–µ–Ω:

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–æ–≤ (–≥–¥–µ –∫—É–ø–∏–ª–∏ –¥–æ–º–µ–Ω)
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"** –∏–ª–∏ **"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS"**
3. –°–æ–∑–¥–∞–π—Ç–µ **A-–∑–∞–ø–∏—Å—å**:
   - –ò–º—è: `@` (–¥–ª—è example.ru) –∏–ª–∏ `wiki` (–¥–ª—è wiki.example.ru)
   - –¢–∏–ø: A
   - –ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à IP –∞–¥—Ä–µ—Å VPS
   - TTL: 3600
4. –°–æ–∑–¥–∞–π—Ç–µ **A-–∑–∞–ø–∏—Å—å** –¥–ª—è www (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ò–º—è: `www`
   - –¢–∏–ø: A
   - –ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à IP –∞–¥—Ä–µ—Å VPS
5. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-30 –º–∏–Ω—É—Ç (—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ DNS)

### –ï—Å–ª–∏ –¥–æ–º–µ–Ω–∞ –ù–ï–¢:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ö—É–ø–∏—Ç—å –¥–æ–º–µ–Ω –Ω–∞ Timeweb**
1. –í –ø–∞–Ω–µ–ª–∏ Timeweb ‚Üí **"–î–æ–º–µ–Ω—ã"** ‚Üí **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `mywiki.ru`)
3. –¶–µ–Ω–∞: –æ—Ç 199‚ÇΩ/–≥–æ–¥
4. –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –¥–æ–º–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∂–µ—Ç—Å—è –∫ –≤–∞—à–µ–º—É IP

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ö—É–ø–∏—Ç—å –Ω–∞ reg.ru, nic.ru**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω –Ω–∞ –ª—é–±–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–µ
2. –ü—Ä–∏–≤—è–∂–∏—Ç–µ A-–∑–∞–ø–∏—Å—å –∫ IP –≤–∞—à–µ–≥–æ VPS (—Å–º. –≤—ã—à–µ)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å**
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–π—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ IP: `http://185.104.114.123`
- –ú–∏–Ω—É—Å: –Ω–µ—Ç HTTPS, –Ω–µ—É–¥–æ–±–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å

---

## –®–∞–≥ 5: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ GitHub

### 5.1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –≤ poehali.dev

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ **poehali.dev**
2. –ù–∞–∂–º–∏—Ç–µ **"–°–∫–∞—á–∞—Ç—å"** ‚Üí **"–ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub"**
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ GitHub (–≤—ã–±–µ—Ä–∏—Ç–µ "All repositories")
4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ poehali.dev ‚Üí –Ω–∞–∂–º–∏—Ç–µ **"GitHub"** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
5. –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –≤ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://github.com/username/wiki-project.git`)

### 5.2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ VPS

–ù–∞ –≤–∞—à–µ–º VPS –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd /var/www/wiki

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∑–∞–º–µ–Ω–∏—Ç–µ URL –Ω–∞ –≤–∞—à!)
git clone https://github.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git .

# –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens
# 2. –°–æ–∑–¥–∞–π—Ç–µ token —Å –ø—Ä–∞–≤–∞–º–∏ "repo"
# 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: git clone https://TOKEN@github.com/username/repo.git .
```

### 5.3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∞

```bash
cd /var/www/wiki

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π frontend
~/.bun/bin/bun install

# –°–±–æ—Ä–∫–∞ frontend
~/.bun/bin/bun run build

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è Python
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π backend
pip install fastapi uvicorn psycopg2-binary pillow boto3 pydantic python-multipart
```

---

## –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend API

### 6.1. –°–æ–∑–¥–∞–π—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª API

```bash
nano /var/www/wiki/backend_server.py
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ (Ctrl+Shift+V –∏–ª–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π):

```python
from fastapi import FastAPI, Request
from fastapi.middleware.cors import CORSMiddleware
from fastapi.responses import JSONResponse
import json
import os
import sys

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º backend
sys.path.insert(0, '/var/www/wiki/backend')

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
os.environ['DATABASE_URL'] = 'postgresql://wiki_user:Wiki2024SecurePass!@localhost/wiki_db'
os.environ['AWS_ACCESS_KEY_ID'] = 'admin'
os.environ['AWS_SECRET_ACCESS_KEY'] = 'MinioSecure2024Pass!'

app = FastAPI()

# CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
try:
    from auth_admin.index import handler as auth_handler
    from wiki_items.index import handler as items_handler
    from guides.index import handler as guides_handler
    from data_manager.index import handler as data_manager_handler
    from admin_activity.index import handler as admin_activity_handler
    from image_processor.index import handler as image_processor_handler
    from reprocess_images.index import handler as reprocess_images_handler
except Exception as e:
    print(f"Error importing handlers: {e}")

class MockContext:
    request_id = "local"
    function_name = "local"
    function_version = "1.0"
    memory_limit_in_mb = 256

async def call_handler(handler, request: Request):
    """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π"""
    body = await request.body()
    event = {
        "httpMethod": request.method,
        "headers": dict(request.headers),
        "body": body.decode() if body else "{}",
        "queryStringParameters": dict(request.query_params),
        "pathParams": {},
        "params": {},
        "multiValueParams": {},
        "multiValueHeaders": {},
        "multiValueQueryStringParameters": {},
        "isBase64Encoded": False,
        "requestContext": {
            "requestId": "local-request",
            "identity": {"sourceIp": request.client.host, "userAgent": request.headers.get("user-agent", "")},
            "httpMethod": request.method,
            "requestTime": "",
            "requestTimeEpoch": 0
        }
    }
    
    context = MockContext()
    result = handler(event, context)
    
    return JSONResponse(
        status_code=result.get('statusCode', 200),
        content=json.loads(result.get('body', '{}')),
        headers=result.get('headers', {})
    )

@app.api_route("/api/auth", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def auth(request: Request):
    return await call_handler(auth_handler, request)

@app.api_route("/api/items", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def items(request: Request):
    return await call_handler(items_handler, request)

@app.api_route("/api/guides", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def guides(request: Request):
    return await call_handler(guides_handler, request)

@app.api_route("/api/data-manager", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def data_manager(request: Request):
    return await call_handler(data_manager_handler, request)

@app.api_route("/api/admin-activity", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def admin_activity(request: Request):
    return await call_handler(admin_activity_handler, request)

@app.api_route("/api/image-processor", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def image_processor(request: Request):
    return await call_handler(image_processor_handler, request)

@app.api_route("/api/reprocess-images", methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"])
async def reprocess_images(request: Request):
    return await call_handler(reprocess_images_handler, request)

@app.get("/health")
async def health():
    return {"status": "ok"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: **Ctrl+O** ‚Üí **Enter** ‚Üí **Ctrl+X**

### 6.2. –°–æ–∑–¥–∞–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å –¥–ª—è backend

```bash
nano /etc/systemd/system/wiki-backend.service
```

–í—Å—Ç–∞–≤—å—Ç–µ:

```ini
[Unit]
Description=Wiki Backend API
After=network.target postgresql.service minio.service

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/wiki
Environment="DATABASE_URL=postgresql://wiki_user:Wiki2024SecurePass!@localhost/wiki_db"
Environment="AWS_ACCESS_KEY_ID=admin"
Environment="AWS_SECRET_ACCESS_KEY=MinioSecure2024Pass!"
Environment="PYTHONPATH=/var/www/wiki"
ExecStart=/var/www/wiki/venv/bin/python /var/www/wiki/backend_server.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: **Ctrl+O** ‚Üí **Enter** ‚Üí **Ctrl+X**

### 6.3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend

```bash
systemctl daemon-reload
systemctl enable wiki-backend
systemctl start wiki-backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status wiki-backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API
curl http://localhost:8000/health
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å: `{"status":"ok"}`

---

## –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)

### 7.1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
nano /etc/nginx/sites-available/wiki
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –î–û–ú–ï–ù:**

```nginx
server {
    listen 80;
    server_name –≤–∞—à_–¥–æ–º–µ–Ω.ru www.–≤–∞—à_–¥–æ–º–µ–Ω.ru;

    client_max_body_size 20M;

    # Frontend
    location / {
        root /var/www/wiki/dist;
        try_files $uri $uri/ /index.html;
        add_header Cache-Control "public, max-age=3600";
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:8000/api/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }

    # MinIO S3 (CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
    location /cdn/ {
        proxy_pass http://localhost:9000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ IP (–±–µ–∑ –¥–æ–º–µ–Ω–∞):**

```nginx
server {
    listen 80 default_server;
    server_name _;

    client_max_body_size 20M;

    # Frontend
    location / {
        root /var/www/wiki/dist;
        try_files $uri $uri/ /index.html;
        add_header Cache-Control "public, max-age=3600";
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:8000/api/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }

    # MinIO S3 (CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
    location /cdn/ {
        proxy_pass http://localhost:9000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: **Ctrl+O** ‚Üí **Enter** ‚Üí **Ctrl+X**

### 7.2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –£–¥–∞–ª–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
rm /etc/nginx/sites-enabled/default

# –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
ln -s /etc/nginx/sites-available/wiki /etc/nginx/sites-enabled/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
systemctl restart nginx
```

---

## –®–∞–≥ 8: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –≤ –∫–æ–¥–µ –ø—Ä–æ–µ–∫—Ç–∞

### 8.1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API

```bash
nano /var/www/wiki/src/config/api.ts
```

### 8.2. –ó–∞–º–µ–Ω–∏—Ç–µ URL

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –î–û–ú–ï–ù:**

```typescript
export const API_URLS = {
  AUTH: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/auth",
  ITEMS: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/items",
  GUIDES: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/guides",
  DATA_MANAGER: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/data-manager",
  ADMIN_ACTIVITY: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/admin-activity",
  IMAGE_PROCESSOR: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/image-processor",
  REPROCESS_IMAGES: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/reprocess-images",
};
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ IP (–≤—Ä–µ–º–µ–Ω–Ω–æ, –¥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL):**

```typescript
export const API_URLS = {
  AUTH: "http://–í–ê–®_IP/api/auth",
  ITEMS: "http://–í–ê–®_IP/api/items",
  GUIDES: "http://–í–ê–®_IP/api/guides",
  DATA_MANAGER: "http://–í–ê–®_IP/api/data-manager",
  ADMIN_ACTIVITY: "http://–í–ê–®_IP/api/admin-activity",
  IMAGE_PROCESSOR: "http://–í–ê–®_IP/api/image-processor",
  REPROCESS_IMAGES: "http://–í–ê–®_IP/api/reprocess-images",
};
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: **Ctrl+O** ‚Üí **Enter** ‚Üí **Ctrl+X**

### 8.3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

```bash
cd /var/www/wiki
~/.bun/bin/bun run build
systemctl restart nginx
```

---

## –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MinIO (S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ)

### 9.1. –û—Ç–∫—Ä–æ–π—Ç–µ MinIO Console

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://–í–ê–®_IP:9001`

–í–æ–π–¥–∏—Ç–µ:
- **Username:** admin
- **Password:** MinioSecure2024Pass!

### 9.2. –°–æ–∑–¥–∞–π—Ç–µ bucket –¥–ª—è —Ñ–∞–π–ª–æ–≤

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Buckets"**
2. –ù–∞–∂–º–∏—Ç–µ **"Create Bucket"**
3. Bucket Name: **files**
4. –ù–∞–∂–º–∏—Ç–µ **"Create Bucket"**

### 9.3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (–¥–ª—è CDN)

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ bucket **"files"**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Access"** (–∏–ª–∏ "–ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞")
3. –ù–∞–∂–º–∏—Ç–µ **"Add Access Rule"** (–∏–ª–∏ "Edit Policy")
4. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –ø–æ–ª–∏—Ç–∏–∫—É:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {"AWS": ["*"]},
      "Action": ["s3:GetObject"],
      "Resource": ["arn:aws:s3:::files/*"]
    }
  ]
}
```

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 9.4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω—ã–º S3

–í backend —Ñ—É–Ω–∫—Ü–∏—è—Ö (–≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è S3) –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å endpoint:

```bash
nano /var/www/wiki/backend/image-processor/index.py
```

–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```python
endpoint_url='https://bucket.poehali.dev',
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
```python
endpoint_url='http://localhost:9000',
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:
```bash
systemctl restart wiki-backend
```

---

## –®–∞–≥ 10: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS) —Å Let's Encrypt

**‚ö†Ô∏è –≠—Ç–æ—Ç —à–∞–≥ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –î–û–ú–ï–ù!**

### 10.1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot

```bash
apt install -y certbot python3-certbot-nginx
```

### 10.2. –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
certbot --nginx -d –≤–∞—à_–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à_–¥–æ–º–µ–Ω.ru
```

–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
1. **Email:** –≤–∞—à email (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏)
2. **Terms of Service:** `Y` (—Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è)
3. **Share email:** `N` (–Ω–µ –¥–µ–ª–∏—Ç—å—Å—è email)
4. **Redirect HTTP to HTTPS:** `2` (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ HTTPS)

### 10.3. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
systemctl enable certbot.timer
systemctl start certbot.timer
```

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π.

### 10.4. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ –∫–æ–¥–µ –Ω–∞ HTTPS

```bash
nano /var/www/wiki/src/config/api.ts
```

–ó–∞–º–µ–Ω–∏—Ç–µ `http://` –Ω–∞ `https://`:

```typescript
export const API_URLS = {
  AUTH: "https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/api/auth",
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ URL
};
```

–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
cd /var/www/wiki
~/.bun/bin/bun run build
systemctl restart nginx
```

---

## –®–∞–≥ 11: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ poehali.dev

### 11.1. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ poehali.dev, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:

```bash
psql -U wiki_user -d wiki_db
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ PostgreSQL:

```sql
-- –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ç–∞–±–ª–∏—Ü—ã)
CREATE TABLE IF NOT EXISTS admin_activity (
    email VARCHAR(255) PRIMARY KEY,
    nickname VARCHAR(255),
    last_seen TIMESTAMP DEFAULT NOW(),
    login_count INTEGER DEFAULT 0,
    visit_count INTEGER DEFAULT 0
);

-- –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
-- (—Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ db_migrations/)

\q
```

### 11.2. –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ CDN poehali.dev, —Å–∫–∞—á–∞–π—Ç–µ –∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ MinIO:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ MinIO Console**
1. –û—Ç–∫—Ä–æ–π—Ç–µ MinIO Console: `http://–í–ê–®_IP:9001`
2. –ó–∞–π–¥–∏—Ç–µ –≤ bucket **"files"**
3. –ù–∞–∂–º–∏—Ç–µ **"Upload"** ‚Üí **"Upload Files"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ MinIO Client (–µ—Å–ª–∏ –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤)**

–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
```bash
# –°–∫–∞—á–∞–π—Ç–µ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ CDN poehali.dev
# (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–æ–º)

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MinIO Client (mc)
# Windows: —Å–∫–∞—á–∞–π—Ç–µ —Å https://dl.min.io/client/mc/release/windows-amd64/mc.exe
# Mac/Linux: brew install minio/stable/mc

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∞—à–µ–º—É MinIO
mc alias set myminio http://–í–ê–®_IP:9000 admin MinioSecure2024Pass!

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
mc cp --recursive ./local_images/ myminio/files/
```

### 11.3. –û–±–Ω–æ–≤–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –±–∞–∑–µ/–∫–æ–¥–µ

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ –∫–æ–¥–µ –≤—Å–µ —Å—Å—ã–ª–∫–∏ —Å:
```
https://cdn.poehali.dev/files/...
```

–ù–∞:
```
https://–≤–∞—à_–¥–æ–º–µ–Ω.ru/cdn/files/...
```
–∏–ª–∏
```
http://–í–ê–®_IP/cdn/files/...
```

---

## –®–∞–≥ 12: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞

### 12.1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–° –¥–æ–º–µ–Ω–æ–º:**
```
https://–≤–∞—à_–¥–æ–º–µ–Ω.ru
```

**–° IP:**
```
http://–í–ê–®_IP
```

### 12.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

‚úÖ **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**
2. **Wiki –ø—Ä–µ–¥–º–µ—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è**
3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å —Ç–µ –∂–µ, —á—Ç–æ –Ω–∞ poehali.dev
4. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è
5. **–ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å –≤–æ–¥—è–Ω—ã–µ –∑–Ω–∞–∫–∏" —Ä–∞–±–æ—Ç–∞–µ—Ç**
6. **–û–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è**
7. **–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
   - Ctrl+C –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–∫—Å—Ç–µ

### 12.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
# –õ–æ–≥–∏ backend
journalctl -u wiki-backend -n 50 -f

# –õ–æ–≥–∏ Nginx
tail -f /var/log/nginx/error.log

# –õ–æ–≥–∏ MinIO
journalctl -u minio -n 50

# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status wiki-backend
systemctl status nginx
systemctl status postgresql
systemctl status minio
```

---

## üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!

### üìä –ß—Ç–æ —É –≤–∞—Å —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å:

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π —Å–∞–π—Ç –Ω–∞ –≤–∞—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç 1 –≤ 1 –∫–∞–∫ –Ω–∞ poehali.dev  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –æ—Ç Timeweb  
‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –¥–æ–º–µ–Ω)  
‚úÖ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  

### üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:

- **Timeweb VPS 2:** 299‚ÇΩ/–º–µ—Å
- **–î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** 200‚ÇΩ/–≥–æ–¥ (~17‚ÇΩ/–º–µ—Å)
- **–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ:** –±–µ—Å–ø–ª–∞—Ç–Ω–æ (Nginx, PostgreSQL, MinIO, SSL)

**–ò—Ç–æ–≥–æ: 316‚ÇΩ/–º–µ—Å –∏–ª–∏ 299‚ÇΩ/–º–µ—Å –±–µ–∑ –¥–æ–º–µ–Ω–∞**

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ GitHub

```bash
cd /var/www/wiki
git pull
~/.bun/bin/bun install
~/.bun/bin/bun run build
systemctl restart wiki-backend
systemctl restart nginx
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# Backend –ª–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
journalctl -u wiki-backend -n 50 -f

# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/error.log
tail -f /var/log/nginx/access.log

# PostgreSQL –ª–æ–≥–∏
tail -f /var/log/postgresql/postgresql-14-main.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
systemctl restart wiki-backend    # Backend API
systemctl restart nginx            # –í–µ–±-—Å–µ—Ä–≤–µ—Ä
systemctl restart postgresql       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
systemctl restart minio            # S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump -U wiki_user wiki_db > /root/backups/wiki_db_$(date +%Y%m%d).sql

# Backup —Ñ–∞–π–ª–æ–≤ MinIO
mc mirror myminio/files /root/backups/minio-files/

# Backup –∫–æ–¥–∞
tar -czf /root/backups/wiki_code_$(date +%Y%m%d).tar.gz /var/www/wiki
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup (cron)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç backup
nano /root/backup.sh
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```bash
#!/bin/bash
mkdir -p /root/backups
pg_dump -U wiki_user wiki_db > /root/backups/wiki_db_$(date +%Y%m%d).sql
find /root/backups -name "wiki_db_*.sql" -mtime +7 -delete
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ cron:
```bash
chmod +x /root/backup.sh
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É (backup –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00):
```
0 3 * * * /root/backup.sh
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM
free -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã
htop   # (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: apt install htop)

# –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU
top
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

**PostgreSQL:**
```bash
sudo -u postgres psql
ALTER USER wiki_user WITH PASSWORD '–ù–æ–≤—ã–π–ü–∞—Ä–æ–ª—å';
\q

# –û–±–Ω–æ–≤–∏—Ç–µ –≤ /etc/systemd/system/wiki-backend.service
nano /etc/systemd/system/wiki-backend.service
# –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É Environment="DATABASE_URL=..."
systemctl daemon-reload
systemctl restart wiki-backend
```

**MinIO:**
```bash
nano /etc/systemd/system/minio.service
# –ò–∑–º–µ–Ω–∏—Ç–µ MINIO_ROOT_PASSWORD
systemctl daemon-reload
systemctl restart minio
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ SSH

```bash
# –ó–∞–ø—Ä–µ—Ç–∏—Ç–µ root –ª–æ–≥–∏–Ω –ø–æ –ø–∞—Ä–æ–ª—é (—Ç–æ–ª—å–∫–æ SSH-–∫–ª—é—á–∏)
nano /etc/ssh/sshd_config
```

–ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
```
PermitRootLogin without-password
PasswordAuthentication no
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH:
```bash
systemctl restart sshd
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH-–∫–ª—é—á–∏, –∏–Ω–∞—á–µ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø!

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Nginx:
```bash
systemctl status nginx
nginx -t
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall:
```bash
ufw status
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ Nginx –Ω–∞ –ø–æ—Ä—Ç—É 80:
```bash
netstat -tlnp | grep :80
```

### Backend API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å backend:
```bash
systemctl status wiki-backend
journalctl -u wiki-backend -n 100
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ backend –Ω–∞ –ø–æ—Ä—Ç—É 8000:
```bash
curl http://localhost:8000/health
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python:
```bash
source /var/www/wiki/venv/bin/activate
pip list
```

### PostgreSQL –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
systemctl status postgresql
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
psql -U wiki_user -d wiki_db -h localhost
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ pg_hba.conf:
```bash
cat /etc/postgresql/14/main/pg_hba.conf | grep "local.*all"
```

### MinIO –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
systemctl status minio
journalctl -u minio -n 50
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
```bash
curl http://localhost:9000/minio/health/live
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É MinIO:
```bash
ls -la /mnt/data/minio
chown -R minio-user:minio-user /mnt/data/minio
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ bucket –≤ MinIO Console:
```
http://–í–ê–®_IP:9001
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ bucket "files"

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–ü–∞–Ω–µ–ª—å Timeweb:** https://timeweb.com/my/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Timeweb:** https://timeweb.cloud/docs/
- **–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ Timeweb:** support@timeweb.ru –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–°–æ–æ–±—â–µ—Å—Ç–≤–æ poehali.dev:** https://t.me/+QgiLIa1gFRY4Y2Iy
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nginx:** https://nginx.org/ru/docs/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PostgreSQL:** https://www.postgresql.org/docs/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MinIO:** https://min.io/docs/

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**UptimeRobot (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://uptimerobot.com
2. –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ email/Telegram

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CDN (–¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è)

**Cloudflare (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://cloudflare.com
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
3. –ò–∑–º–µ–Ω–∏—Ç–µ DNS –Ω–∞ Cloudflare nameservers
4. –í–∫–ª—é—á–∏—Ç–µ proxy –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞

### –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
apt install redis-server
systemctl enable redis-server
systemctl start redis-server
```

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ backend —Ñ—É–Ω–∫—Ü–∏—è—Ö.

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í–∞—à –ø—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –Ω–∞ Timeweb VPS!**

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ: https://t.me/+QgiLIa1gFRY4Y2Iy
