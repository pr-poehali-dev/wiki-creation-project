# üöÄ –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Yandex Cloud Functions
## –ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏

---

## üìã –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç –Ω–∞ –Ø–Ω–¥–µ–∫—Å (mail, passport)
- ‚úÖ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (–¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, —Å–ø–∏—à–µ—Ç—Å—è –∏ –≤–µ—Ä–Ω–µ—Ç—Å—è 1‚ÇΩ)
- ‚úÖ 30-40 –º–∏–Ω—É—Ç –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ö–æ–º–ø—å—é—Ç–µ—Ä —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
- ‚úÖ –¢–µ—Ä–º–∏–Ω–∞–ª (–∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)

---

# –ß–ê–°–¢–¨ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞

## –®–∞–≥ 1.1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Yandex Cloud (5 –º–∏–Ω—É—Ç)

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
```
https://console.cloud.yandex.ru/
```

### 2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ"** (–±–æ–ª—å—à–∞—è —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

### 3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å ID:
- –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø–æ—á—Ç–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å ‚Äî –≤–æ–π–¥–∏—Ç–µ
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –Ω–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç"** –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å

### 4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
- **–°—Ç—Ä–∞–Ω–∞:** –†–æ—Å—Å–∏—è
- **–¢–∏–ø –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞:** –§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ
- **–§–ò–û:** –í–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–¢–µ–ª–µ—Ñ–æ–Ω:** –í–∞—à –Ω–æ–º–µ—Ä (–ø—Ä–∏–¥–µ—Ç SMS —Å –∫–æ–¥–æ–º)

### 5. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É:
- –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã (–ª—é–±–æ–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –±–∞–Ω–∫)
- –°–ø–∏—à–µ—Ç—Å—è –∏ –≤–µ—Ä–Ω–µ—Ç—Å—è 1‚ÇΩ (–ø—Ä–æ–≤–µ—Ä–∫–∞)
- ‚ö†Ô∏è –ù–µ –±–æ–π—Ç–µ—Å—å, –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### 6. –ü–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å—ã:
- **4000‚ÇΩ** –Ω–∞ —Å—á–µ—Ç (–¥–µ–π—Å—Ç–≤—É–µ—Ç 60 –¥–Ω–µ–π)
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∏—Ä** –Ω–∞–≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç—Ä–∏–∞–ª–∞

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Yandex Cloud

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://cloud.yandex.ru/docs/getting-started/

---

## –®–∞–≥ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ (2 –º–∏–Ω—É—Ç—ã)

### 1. –í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud (https://console.cloud.yandex.ru/) –Ω–∞–π–¥–∏—Ç–µ —Å–ª–µ–≤–∞ –º–µ–Ω—é

### 2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≤–≤–µ—Ä—Ö—É (—Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ "default" –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞–∫–∞)

### 3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥"**

### 4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
```
–ù–∞–∑–≤–∞–Ω–∏–µ: devilrust-backend
–û–ø–∏—Å–∞–Ω–∏–µ: Backend —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ DevilRust Wiki
```

### 5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ö–∞—Ç–∞–ª–æ–≥ —Å–æ–∑–¥–∞–Ω. –¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –≤–≤–µ—Ä—Ö—É.

---

## –®–∞–≥ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (3 –º–∏–Ω—É—Ç—ã)

### 1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"**

–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞:
```
https://console.cloud.yandex.ru/folders/{–≤–∞—à-folder-id}/iam/service-accounts
```

### 2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç"** (—Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
```
–ò–º—è: devilrust-sa
–û–ø–∏—Å–∞–Ω–∏–µ: –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ S3
```

### 4. –î–æ–±–∞–≤—å—Ç–µ —Ä–æ–ª–∏ (–Ω–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å"):
```
–†–æ–ª—å 1: functions.functionInvoker
–†–æ–ª—å 2: storage.editor
–†–æ–ª—å 3: serverless.functions.invoker
```

### 5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω.

---

## –®–∞–≥ 1.4: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞ (3 –º–∏–Ω—É—Ç—ã)

### 1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç **"devilrust-sa"**

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞"** (—Å–≤–µ—Ä—Ö—É)

### 3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞"**

### 4. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –Ω–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**

### 5. ‚ö†Ô∏è **–í–ê–ñ–ù–û! –°–û–•–†–ê–ù–ò–¢–ï –ö–õ–Æ–ß–ò!** –û–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã:
```
–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ (AWS_ACCESS_KEY_ID): YCAJExxxxxxxxxxxxx
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (AWS_SECRET_ACCESS_KEY): YCMxxxxxxxxxxxxxxxxxxxx
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–ª–æ–∫–Ω–æ—Ç –∏–ª–∏ —Ñ–∞–π–ª! –ü–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –ø–æ–∑–∂–µ.**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–∑–¥–∞–Ω—ã.

---

# –ß–ê–°–¢–¨ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä

## –®–∞–≥ 2.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Yandex Cloud CLI (5 –º–∏–Ω—É—Ç)

### –î–ª—è Windows:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **PowerShell** –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   - Win + X ‚Üí "Windows PowerShell (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)"

2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```powershell
iex (New-Object System.Net.WebClient).DownloadString('https://storage.yandexcloud.net/yandexcloud-yc/install.ps1')
```

3. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (1-2 –º–∏–Ω—É—Ç—ã)

4. –ó–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∑–∞–Ω–æ–≤–æ

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```powershell
yc --version
```

### –î–ª—è macOS:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–¢–µ—Ä–º–∏–Ω–∞–ª** (Cmd + Space ‚Üí "Terminal")

2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
yc --version
```

### –î–ª—è Linux:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (Ctrl + Alt + T)

2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash
exec -l $SHELL
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
yc --version
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://cloud.yandex.ru/docs/cli/quickstart

---

## –®–∞–≥ 2.2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Yandex Cloud CLI (3 –º–∏–Ω—É—Ç—ã)

### 1. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
yc init
```

### 2. CLI –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø–æ–ª—É—á–∏—Ç—å OAuth-—Ç–æ–∫–µ–Ω. –ù–∞–∂–º–∏—Ç–µ Enter

### 3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –Ø–Ω–¥–µ–∫—Å –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø

### 4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª. –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∏ –Ω–∞–∂–º–∏—Ç–µ Enter

### 5. CLI —Å–ø—Ä–æ—Å–∏—Ç –æ–±–ª–∞–∫–æ. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –æ–±–ª–∞–∫–æ (–æ–±—ã—á–Ω–æ 1)

### 6. CLI —Å–ø—Ä–æ—Å–∏—Ç –∫–∞—Ç–∞–ª–æ–≥. –í—ã–±–µ—Ä–∏—Ç–µ **"devilrust-backend"**

### 7. CLI —Å–ø—Ä–æ—Å–∏—Ç –∑–æ–Ω—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í—ã–±–µ—Ä–∏—Ç–µ **"ru-central1-a"**

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
yc config list
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
token: y0_AgA...
cloud-id: b1g...
folder-id: b1g...
compute-default-zone: ru-central1-a
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** CLI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.

---

## –®–∞–≥ 2.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AWS CLI (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3) (5 –º–∏–Ω—É—Ç)

### –î–ª—è Windows:

1. –°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:
```
https://awscli.amazonaws.com/AWSCLIV2.msi
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

3. –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
```powershell
aws --version
```

### –î–ª—è macOS:

```bash
brew install awscli
```

–ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å:
```
https://awscli.amazonaws.com/AWSCLIV2.pkg
```

### –î–ª—è Linux (Ubuntu/Debian):

```bash
sudo apt update
sudo apt install awscli
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
aws --version
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: `aws-cli/2.x.x`

‚úÖ **–ì–æ—Ç–æ–≤–æ!** AWS CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

---

# –ß–ê–°–¢–¨ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Object Storage (S3)

## –®–∞–≥ 3.1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞ (3 –º–∏–Ω—É—Ç—ã)

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Object Storage:
```
https://console.cloud.yandex.ru/folders/{folder-id}/storage
```

–ò–ª–∏ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é ‚Üí **"Object Storage"**

### 2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç"** (—Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞)

### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
```
–ò–º—è: devilrust-storage
```
‚ö†Ô∏è –ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º! –ï—Å–ª–∏ –∑–∞–Ω—è—Ç–æ, –¥–æ–±–∞–≤—å—Ç–µ —Ü–∏—Ñ—Ä—ã: devilrust-storage-123

```
–ö–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ
–î–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤: –ü—É–±–ª–∏—á–Ω—ã–π (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞!)
–î–æ—Å—Ç—É–ø –∫ —Å–ø–∏—Å–∫—É –æ–±—ä–µ–∫—Ç–æ–≤: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π
```

### 4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç"**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ë–∞–∫–µ—Ç —Å–æ–∑–¥–∞–Ω.

---

## –®–∞–≥ 3.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS (2 –º–∏–Ω—É—Ç—ã)

### 1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –±–∞–∫–µ—Ç **"devilrust-storage"**

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"CORS"** (—Å–≤–µ—Ä—Ö—É)

### 3. –ù–∞–∂–º–∏—Ç–µ **"–ù–∞—Å—Ç—Ä–æ–∏—Ç—å"**

### 4. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç JSON:
```json
[
  {
    "AllowedOrigins": ["*"],
    "AllowedMethods": ["GET", "PUT", "POST", "DELETE", "HEAD"],
    "AllowedHeaders": ["*"],
    "MaxAgeSeconds": 3000
  }
]
```

### 5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://cloud.yandex.ru/docs/storage/concepts/cors

---

## –®–∞–≥ 3.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AWS CLI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex S3 (2 –º–∏–Ω—É—Ç—ã)

### 1. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
aws configure --profile yandex
```

### 2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–∏ –∏–∑ –®–∞–≥–∞ 1.4):
```
AWS Access Key ID: YCAJExxxxxxxxxxxxx
AWS Secret Access Key: YCMxxxxxxxxxxxxxxxxxxxx
Default region name: ru-central1
Default output format: json
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø:
```bash
aws s3 ls --endpoint-url=https://storage.yandexcloud.net --profile yandex
```

–î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –±–∞–∫–µ—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è devilrust-storage)

‚úÖ **–ì–æ—Ç–æ–≤–æ!** AWS CLI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Yandex Cloud.

---

# –ß–ê–°–¢–¨ 4: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## –®–∞–≥ 4.1: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ guides.json (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ)

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–µ–º—É S3

–ü–æ–ø—Ä–æ—Å–∏—Ç–µ —É poehali.dev –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–∏–º –¥–∞–Ω–Ω—ã–º –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `guides.json`:
```json
{
  "categories": [],
  "difficulty": [
    {"id": "easy", "name": "–õ–µ–≥–∫–æ", "color": "#22c55e"},
    {"id": "medium", "name": "–°—Ä–µ–¥–Ω–µ", "color": "#eab308"},
    {"id": "hard", "name": "–°–ª–æ–∂–Ω–æ", "color": "#ef4444"}
  ],
  "guides": []
}
```

---

## –®–∞–≥ 4.2: –ó–∞–≥—Ä—É–∑–∫–∞ guides.json –≤ Yandex S3 (1 –º–∏–Ω—É—Ç–∞)

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª guides.json –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ

### 2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É wiki –≤ –±–∞–∫–µ—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª:
```bash
aws s3 cp guides.json s3://devilrust-storage/wiki/guides.json \
  --profile yandex \
  --endpoint-url=https://storage.yandexcloud.net \
  --content-type application/json \
  --acl public-read
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:
```bash
aws s3 ls s3://devilrust-storage/wiki/ \
  --profile yandex \
  --endpoint-url=https://storage.yandexcloud.net
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ URL (–æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ):
```
https://storage.yandexcloud.net/devilrust-storage/wiki/guides.json
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –î–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã.

---

# –ß–ê–°–¢–¨ 5: –î–µ–ø–ª–æ–π Cloud Functions

## –®–∞–≥ 5.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

### 1. –°–∫–∞—á–∞–π—Ç–µ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ —Å GitHub –∏–ª–∏ –∏–∑ poehali.dev

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd –ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/–ø—Ä–æ–µ–∫—Ç—É
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```bash
ls backend/
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–∞–ø–∫–∏:
- `auth-admin/`
- `wiki-items/`
- `guides/`

---

## –®–∞–≥ 5.2: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ auth-admin (3 –º–∏–Ω—É—Ç—ã)

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ Yandex Cloud:
```bash
yc serverless function create \
  --name=auth-admin \
  --description="–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
```

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Ñ—É–Ω–∫—Ü–∏–∏:
```bash
cd backend/auth-admin
```

### 3. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é —Ñ—É–Ω–∫—Ü–∏–∏:
```bash
yc serverless function version create \
  --function-name=auth-admin \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=128m \
  --execution-timeout=10s \
  --source-path=.
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (1-2 –º–∏–Ω—É—Ç—ã).

### 4. –°–¥–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø—É–±–ª–∏—á–Ω–æ–π:
```bash
yc serverless function allow-unauthenticated-invoke auth-admin
```

### 5. –ü–æ–ª—É—á–∏—Ç–µ URL —Ñ—É–Ω–∫—Ü–∏–∏:
```bash
yc serverless function get auth-admin --format=json | grep http_invoke_url
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ URL!** –ù–∞–ø—Ä–∏–º–µ—Ä:
```
https://functions.yandexcloud.net/d4e...–¥–ª–∏–Ω–Ω—ã–π-id
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –§—É–Ω–∫—Ü–∏—è auth-admin —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞.

---

## –®–∞–≥ 5.3: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ wiki-items (3 –º–∏–Ω—É—Ç—ã)

### 1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:
```bash
cd ../wiki-items
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:
```bash
yc serverless function create \
  --name=wiki-items \
  --description="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ Wiki"
```

### 3. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é (–ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –°–í–û–ò –∫–ª—é—á–∏ –∏–∑ –®–∞–≥–∞ 1.4):
```bash
yc serverless function version create \
  --function-name=wiki-items \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=128m \
  --execution-timeout=10s \
  --environment AWS_ACCESS_KEY_ID=YCAJExxxxxxxxxxxxx \
  --environment AWS_SECRET_ACCESS_KEY=YCMxxxxxxxxxxxxxxxxxxxx \
  --source-path=.
```

### 4. –°–¥–µ–ª–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω–æ–π:
```bash
yc serverless function allow-unauthenticated-invoke wiki-items
```

### 5. –ü–æ–ª—É—á–∏—Ç–µ URL:
```bash
yc serverless function get wiki-items --format=json | grep http_invoke_url
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ URL!**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –§—É–Ω–∫—Ü–∏—è wiki-items —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞.

---

## –®–∞–≥ 5.4: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ guides (3 –º–∏–Ω—É—Ç—ã)

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:
```bash
cd ../guides
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:
```bash
yc serverless function create \
  --name=guides \
  --description="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∞–π–¥–∞–º–∏"
```

### 3. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é (–ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –°–í–û–ò –∫–ª—é—á–∏):
```bash
yc serverless function version create \
  --function-name=guides \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=256m \
  --execution-timeout=30s \
  --environment AWS_ACCESS_KEY_ID=YCAJExxxxxxxxxxxxx \
  --environment AWS_SECRET_ACCESS_KEY=YCMxxxxxxxxxxxxxxxxxxxx \
  --source-path=.
```

### 4. –°–¥–µ–ª–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω–æ–π:
```bash
yc serverless function allow-unauthenticated-invoke guides
```

### 5. –ü–æ–ª—É—á–∏—Ç–µ URL:
```bash
yc serverless function get guides --format=json | grep http_invoke_url
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ URL!**

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –í—Å–µ —Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã!

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://cloud.yandex.ru/docs/functions/quickstart/

---

# –ß–ê–°–¢–¨ 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –®–∞–≥ 6.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL S3 –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `backend/guides/index.py`

### 2. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `get_s3_client()` (—Å—Ç—Ä–æ–∫–∞ ~18):

**–ë—ã–ª–æ:**
```python
def get_s3_client():
    return boto3.client('s3',
        endpoint_url='https://bucket.poehali.dev',
        aws_access_key_id=os.environ['AWS_ACCESS_KEY_ID'],
        aws_secret_access_key=os.environ['AWS_SECRET_ACCESS_KEY'],
    )
```

**–°—Ç–∞–ª–æ:**
```python
def get_s3_client():
    return boto3.client('s3',
        endpoint_url='https://storage.yandexcloud.net',
        aws_access_key_id=os.environ['AWS_ACCESS_KEY_ID'],
        aws_secret_access_key=os.environ['AWS_SECRET_ACCESS_KEY'],
    )
```

### 3. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å cdn_url (—Å—Ç—Ä–æ–∫–∞ ~183):

**–ë—ã–ª–æ:**
```python
cdn_url = f"https://cdn.poehali.dev/projects/{os.environ['AWS_ACCESS_KEY_ID']}/bucket/{unique_filename}"
```

**–°—Ç–∞–ª–æ:**
```python
cdn_url = f"https://storage.yandexcloud.net/devilrust-storage/{unique_filename}"
```

### 4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è `backend/wiki-items/index.py` (–µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å S3)

### 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã

---

## –®–∞–≥ 6.2: –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π —Ñ—É–Ω–∫—Ü–∏–π —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º (5 –º–∏–Ω—É—Ç)

### 1. Guides:
```bash
cd backend/guides
yc serverless function version create \
  --function-name=guides \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=256m \
  --execution-timeout=30s \
  --environment AWS_ACCESS_KEY_ID=YCAJExxxxxxxxxxxxx \
  --environment AWS_SECRET_ACCESS_KEY=YCMxxxxxxxxxxxxxxxxxxxx \
  --source-path=.
```

### 2. Wiki-items (–µ—Å–ª–∏ –∏–∑–º–µ–Ω—è–ª–∏):
```bash
cd ../wiki-items
yc serverless function version create \
  --function-name=wiki-items \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=128m \
  --execution-timeout=10s \
  --environment AWS_ACCESS_KEY_ID=YCAJExxxxxxxxxxxxx \
  --environment AWS_SECRET_ACCESS_KEY=YCMxxxxxxxxxxxxxxxxxxxx \
  --source-path=.
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã.

---

# –ß–ê–°–¢–¨ 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

## –®–∞–≥ 7.1: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ (2 –º–∏–Ω—É—Ç—ã)

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd ../..  # –∏–∑ backend/ –≤ –∫–æ—Ä–µ–Ω—å
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
# Windows PowerShell:
New-Item .env

# macOS / Linux:
touch .env
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ .env –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –í–ê–®–ò URL):
```env
VITE_AUTH_URL=https://functions.yandexcloud.net/d4e...–≤–∞—à-auth-id
VITE_ITEMS_URL=https://functions.yandexcloud.net/d4e...–≤–∞—à-items-id
VITE_GUIDES_URL=https://functions.yandexcloud.net/d4e...–≤–∞—à-guides-id
```

### 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

---

## –®–∞–≥ 7.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ Frontend (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤ –∫–æ–¥–µ –µ—Å—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ URL, –Ω–∞–π–¥–∏—Ç–µ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∏—Ö –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**–ë—ã–ª–æ:**
```typescript
const API_URL = 'https://—Å—Ç–∞—Ä—ã–π-url/api/guides';
```

**–°—Ç–∞–ª–æ:**
```typescript
const API_URL = import.meta.env.VITE_GUIDES_URL;
```

---

## –®–∞–≥ 7.3: –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã):
```bash
npm install
# –∏–ª–∏
bun install
```

### 2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
npm run build
# –∏–ª–∏
bun run build
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ build —Å–æ–∑–¥–∞–Ω:
```bash
ls dist/
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –Ω–æ–≤—ã–º–∏ URL.

---

## –®–∞–≥ 7.4: –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ poehali.dev (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

```bash
git add .
git commit -m "Migrate to Yandex Cloud"
git push
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ù–∞ Yandex Cloud Hosting

**–°–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

### –í–∞—Ä–∏–∞–Ω—Ç –í: –ù–∞ —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `dist/` –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ FTP/SSH.

---

# –ß–ê–°–¢–¨ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –®–∞–≥ 8.1: –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ curl (2 –º–∏–Ω—É—Ç—ã)

### 1. –¢–µ—Å—Ç auth-admin:
```bash
curl https://–≤–∞—à-auth-url.yandexcloud.net
```

–û–∂–∏–¥–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç: `{"message": "Admin auth service"}`

### 2. –¢–µ—Å—Ç wiki-items:
```bash
curl https://–≤–∞—à-items-url.yandexcloud.net
```

–û–∂–∏–¥–∞–µ—Ç—Å—è JSON —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ (–∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)

### 3. –¢–µ—Å—Ç guides:
```bash
curl https://–≤–∞—à-guides-url.yandexcloud.net
```

–û–∂–∏–¥–∞–µ—Ç—Å—è JSON —Å –≥–∞–π–¥–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

‚úÖ –ï—Å–ª–∏ –≤—Å–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!

---

## –®–∞–≥ 8.2: –¢–µ—Å—Ç —Å–∞–π—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (3 –º–∏–Ω—É—Ç—ã)

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)

### 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network** (–°–µ—Ç—å)

### 4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã:
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫ `functions.yandexcloud.net` ‚Äî —Å—Ç–∞—Ç—É—Å 200
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å `storage.yandexcloud.net`
- ‚ùå –ù–ï–¢ –æ—à–∏–±–æ–∫ CORS

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ Wiki –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ Guides –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–∞–π–¥—ã
- ‚úÖ –ê–¥–º–∏–Ω–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–π—Ç–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –°–∞–π—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω!

---

# –ß–ê–°–¢–¨ 9: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

## –®–∞–≥ 9.1: –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

### –í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Cloud Functions** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
2. –í–∫–ª–∞–¥–∫–∞ **"–õ–æ–≥–∏"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 1 —á–∞—Å / 24 —á–∞—Å–∞)

### –ß–µ—Ä–µ–∑ CLI:

```bash
# –õ–æ–≥–∏ guides –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
yc logging read --folder-id=<–≤–∞—à-folder-id> \
  --filter='resource.type="serverless.function" AND resource.id="<function-id>"' \
  --since=1h

# –ò–ª–∏ –ø—Ä–æ—â–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω yc):
yc serverless function logs guides
```

---

## –®–∞–≥ 9.2: –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫

### 1. –í –∫–æ–Ω—Å–æ–ª–∏: Cloud Functions ‚Üí —Ñ—É–Ω–∫—Ü–∏—è ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"**

### 2. –î–æ—Å—Ç—É–ø–Ω—ã –º–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—à–∏–±–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

---

## –®–∞–≥ 9.3: –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: 403 Access Denied (S3)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á–∏ (–®–∞–≥ 1.4)
# –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö (–®–∞–≥ 5)
```

### –û—à–∏–±–∫–∞: CORS policy blocked

**–ü—Ä–∏—á–∏–Ω–∞:** CORS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –±–∞–∫–µ—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –®–∞–≥ 3.2

### –û—à–∏–±–∫–∞: Function timeout

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ–ª—å—à–µ –ª–∏–º–∏—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ timeout –¥–æ 30 —Å–µ–∫—É–Ω–¥
yc serverless function version create \
  --function-name=guides \
  --execution-timeout=30s \
  ...–æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã...
```

### –û—à–∏–±–∫–∞: Module not found (boto3)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–π—Ç–µ `requirements.txt` –≤ –ø–∞–ø–∫–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```txt
boto3==1.26.0
```

---

# –ß–ê–°–¢–¨ 10: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

## –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `deploy-yc.sh` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
#!/bin/bash
set -e

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m'

# –í–∞—à–∏ –∫–ª—é—á–∏ (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ò!)
AWS_KEY="YCAJExxxxxxxxxxxxx"
AWS_SECRET="YCMxxxxxxxxxxxxxxxxxxxx"

echo -e "${BLUE}üöÄ Deploying to Yandex Cloud...${NC}"

# Auth
echo -e "${GREEN}üì¶ Deploying auth-admin...${NC}"
cd backend/auth-admin
yc serverless function version create \
  --function-name=auth-admin \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=128m \
  --execution-timeout=10s \
  --source-path=. \
  --quiet

# Items
echo -e "${GREEN}üì¶ Deploying wiki-items...${NC}"
cd ../wiki-items
yc serverless function version create \
  --function-name=wiki-items \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=128m \
  --execution-timeout=10s \
  --environment AWS_ACCESS_KEY_ID=$AWS_KEY \
  --environment AWS_SECRET_ACCESS_KEY=$AWS_SECRET \
  --source-path=. \
  --quiet

# Guides
echo -e "${GREEN}üì¶ Deploying guides...${NC}"
cd ../guides
yc serverless function version create \
  --function-name=guides \
  --runtime=python311 \
  --entrypoint=index.handler \
  --memory=256m \
  --execution-timeout=30s \
  --environment AWS_ACCESS_KEY_ID=$AWS_KEY \
  --environment AWS_SECRET_ACCESS_KEY=$AWS_SECRET \
  --source-path=. \
  --quiet

echo -e "${GREEN}‚úÖ Deployment complete!${NC}"
echo ""
echo "URLs:"
yc serverless function get auth-admin --format=json | grep http_invoke_url | awk '{print $2}'
yc serverless function get wiki-items --format=json | grep http_invoke_url | awk '{print $2}'
yc serverless function get guides --format=json | grep http_invoke_url | awk '{print $2}'
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
chmod +x deploy-yc.sh
./deploy-yc.sh
```

---

# üìä –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ª–∏–º–∏—Ç—ã

## –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∏—Ä (–Ω–∞–≤—Å–µ–≥–¥–∞):

| –°–µ—Ä–≤–∏—Å | –õ–∏–º–∏—Ç | –•–≤–∞—Ç–∏—Ç –Ω–∞ |
|--------|-------|-----------|
| Cloud Functions | 1 –º–ª–Ω –≤—ã–∑–æ–≤–æ–≤/–º–µ—Å | ~30K –≤–∏–∑–∏—Ç–æ–≤ |
| Functions CPU | 10 –ì–ë¬∑—á/–º–µ—Å | –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| Object Storage | 1 –ì–ë | ~1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| –¢—Ä–∞—Ñ–∏–∫ Storage | 10 –ì–ë/–º–µ—Å | ~50K –∑–∞–≥—Ä—É–∑–æ–∫ |

## –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏:

| –°–µ—Ä–≤–∏—Å | –¶–µ–Ω–∞ |
|--------|------|
| –í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π | 1.28‚ÇΩ –∑–∞ 1 –º–ª–Ω |
| CPU (128MB) | 1.071428‚ÇΩ –∑–∞ –ì–ë¬∑—á |
| Storage —Ö—Ä–∞–Ω–µ–Ω–∏–µ | 1.8144‚ÇΩ –∑–∞ –ì–ë/–º–µ—Å |
| Storage —Ç—Ä–∞—Ñ–∏–∫ | 1.632‚ÇΩ –∑–∞ –ì–ë |

**–ü—Ä–æ–≥–Ω–æ–∑ –¥–ª—è 10K –≤–∏–∑–∏—Ç–æ–≤/–º–µ—Å:** ~150‚ÇΩ/–º–µ—Å

---

# üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- üìö [Cloud Functions](https://cloud.yandex.ru/docs/functions/)
- üìö [Object Storage](https://cloud.yandex.ru/docs/storage/)
- üìö [CLI Reference](https://cloud.yandex.ru/docs/cli/cli-ref/)
- üìö [API Gateway](https://cloud.yandex.ru/docs/api-gateway/)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- üõ† [–ö–æ–Ω—Å–æ–ª—å Yandex Cloud](https://console.cloud.yandex.ru/)
- üõ† [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](https://console.cloud.yandex.ru/folders/{folder-id}/monitoring)
- üõ† [–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏](https://cloud.yandex.ru/prices)

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
- üí¨ [Telegram-—á–∞—Ç](https://t.me/YandexCloudRu)
- üìß [–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞](https://cloud.yandex.ru/support)
- üìñ [Stack Overflow](https://stackoverflow.com/questions/tagged/yandex-cloud)

---

# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

–†–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ –∏ –æ—Ç–º–µ—á–∞–π—Ç–µ:

- [ ] 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ Yandex Cloud
- [ ] 2. –°–æ–∑–¥–∞–Ω –∫–∞—Ç–∞–ª–æ–≥ devilrust-backend
- [ ] 3. –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç devilrust-sa
- [ ] 4. –ü–æ–ª—É—á–µ–Ω—ã –∫–ª—é—á–∏ AWS_ACCESS_KEY_ID –∏ AWS_SECRET_ACCESS_KEY
- [ ] 5. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Yandex Cloud CLI
- [ ] 6. –í—ã–ø–æ–ª–Ω–µ–Ω yc init
- [ ] 7. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω AWS CLI
- [ ] 8. –°–æ–∑–¥–∞–Ω –±–∞–∫–µ—Ç devilrust-storage
- [ ] 9. –ù–∞—Å—Ç—Ä–æ–µ–Ω CORS –¥–ª—è –±–∞–∫–µ—Ç–∞
- [ ] 10. –ó–∞–≥—Ä—É–∂–µ–Ω guides.json –≤ S3
- [ ] 11. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è auth-admin
- [ ] 12. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è wiki-items
- [ ] 13. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è guides
- [ ] 14. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–¥–µ–ª–∞–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏
- [ ] 15. –ü–æ–ª—É—á–µ–Ω—ã URL –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] 16. –û–±–Ω–æ–≤–ª–µ–Ω—ã endpoint'—ã S3 –≤ –∫–æ–¥–µ
- [ ] 17. –û–±–Ω–æ–≤–ª–µ–Ω—ã CDN URL –≤ –∫–æ–¥–µ
- [ ] 18. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º
- [ ] 19. –°–æ–∑–¥–∞–Ω .env —Å –Ω–æ–≤—ã–º–∏ URL
- [ ] 20. –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω frontend
- [ ] 21. –ó–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–æ–≤—ã–π frontend
- [ ] 22. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ curl
- [ ] 23. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] 24. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] 25. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞–¥–º–∏–Ω–∫–∞

---

# üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é!

–í—ã —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Yandex Cloud!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ –ù–∞–¥–µ–∂–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∏—Ä –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –¥–æ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
2. –í–∫–ª—é—á–∏—Ç–µ CDN –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—ç–∫–∞–ø—ã Object Storage
4. –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

–í–æ–ø—Ä–æ—Å—ã? –ü–∏—à–∏—Ç–µ –≤ [Telegram-—á–∞—Ç Yandex Cloud](https://t.me/YandexCloudRu)!
